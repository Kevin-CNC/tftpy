<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>TFTPy &#8212; TFTPy 0.8.6 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/agogo.css?v=08520df9" />
    <script src="_static/documentation_options.js?v=279f42e0"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="canonical" href="http://msoulier.github.io/tftpy/docs/pages/html/index.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
  </head><body>
    <div class="header-wrapper" role="banner">
      <div class="header">
        <div class="headertitle"><a
          href="#">TFTPy 0.8.6 documentation</a></div>
        <div class="rel" role="navigation" aria-label="Related">
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a>
        </div>
       </div>
    </div>

    <div class="content-wrapper">
      <div class="content">
        <div class="document">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="tftpy">
<h1>TFTPy<a class="headerlink" href="#tftpy" title="Link to this heading">¶</a></h1>
<p>TFTPy is a pure python TFTP implementation.</p>
<div class="toctree-wrapper compound">
</div>
<ul class="simple">
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></p></li>
<li><p><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></p></li>
<li><p><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></p></li>
</ul>
</section>
<section id="requirements">
<h1>Requirements<a class="headerlink" href="#requirements" title="Link to this heading">¶</a></h1>
<p>Python 3.8+, I think. I am not testing in all intermediate Python versions, so let me know if you find
any problems.</p>
</section>
<section id="installation">
<h1>Installation<a class="headerlink" href="#installation" title="Link to this heading">¶</a></h1>
<p>If you download the source distribution, you can simply use distutils to
install, via:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">setup</span><span class="o">.</span><span class="n">py</span> <span class="n">build</span>
<span class="n">python</span> <span class="n">setup</span><span class="o">.</span><span class="n">py</span> <span class="n">install</span>
</pre></div>
</div>
<p>Or, as this has been uploaded to pypi, you can use easy_install or pip:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">easy_install</span> <span class="n">tftpy</span>
<span class="n">pip</span> <span class="n">install</span> <span class="n">tftpy</span>
</pre></div>
</div>
<p>Once installed you should have the sample client and server scripts in bin,
and you should be able to import the <cite>tftpy</cite> module.</p>
</section>
<section id="examples">
<h1>Examples<a class="headerlink" href="#examples" title="Link to this heading">¶</a></h1>
<p>The simplest tftp client:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">tftpy</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">tftpy</span><span class="o">.</span><span class="n">TftpClient</span><span class="p">(</span><span class="s1">&#39;tftp.digitaltorque.ca&#39;</span><span class="p">,</span> <span class="mi">69</span><span class="p">)</span>
<span class="n">client</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="s1">&#39;remote_filename&#39;</span><span class="p">,</span> <span class="s1">&#39;local_filename&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>The simplest tftp server:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">tftpy</span>

<span class="n">server</span> <span class="o">=</span> <span class="n">tftpy</span><span class="o">.</span><span class="n">TftpServer</span><span class="p">(</span><span class="s1">&#39;/tftpboot&#39;</span><span class="p">)</span>
<span class="n">server</span><span class="o">.</span><span class="n">listen</span><span class="p">(</span><span class="s1">&#39;0.0.0.0&#39;</span><span class="p">,</span> <span class="mi">69</span><span class="p">)</span>
</pre></div>
</div>
<p>See the sample client and server for slightly more complex examples.</p>
</section>
<section id="api-documentation">
<h1>API Documentation<a class="headerlink" href="#api-documentation" title="Link to this heading">¶</a></h1>
<section id="front-end-modules">
<h2>Front-end Modules<a class="headerlink" href="#front-end-modules" title="Link to this heading">¶</a></h2>
<p>These modules are the ones that you will need to use directly to implement a
TFTP client or server.</p>
<section id="module-tftpy">
<span id="the-tftpy-module"></span><h3>The <a class="reference internal" href="#module-tftpy" title="tftpy"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tftpy</span></code></a> Module<a class="headerlink" href="#module-tftpy" title="Link to this heading">¶</a></h3>
<p>This library implements the tftp protocol, based on rfc 1350.
<a class="reference external" href="http://www.faqs.org/rfcs/rfc1350.html">http://www.faqs.org/rfcs/rfc1350.html</a>
At the moment it implements only a client class, but will include a server,
with support for variable block sizes.</p>
<p>As a client of tftpy, this is the only module that you should need to import
directly. The TftpClient and TftpServer classes can be reached through it.</p>
</section>
<section id="module-tftpy.TftpClient">
<span id="the-tftpclient-module"></span><h3>The <cite>TftpClient</cite> Module<a class="headerlink" href="#module-tftpy.TftpClient" title="Link to this heading">¶</a></h3>
<p>This module implements the TFTP Client functionality. Instantiate an
instance of the client, and then use its upload or download method. Logging is
performed via a standard logging object set in TftpShared.</p>
<dl class="py class">
<dt class="sig sig-object py" id="tftpy.TftpClient.TftpClient">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">tftpy.TftpClient.</span></span><span class="sig-name descname"><span class="pre">TftpClient</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">host</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">port</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">69</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">localip</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flock</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#tftpy.TftpClient.TftpClient" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#tftpy.TftpPacketTypes.TftpSession" title="tftpy.TftpPacketTypes.TftpSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">TftpSession</span></code></a></p>
<p>This class is an implementation of a tftp client. Once instantiated, a
download can be initiated via the download() method, or an upload via the
upload() method.</p>
<p>The host and port options should be obvious. The options dict is tftp options.
The localip is optional, but if provided, the client will bind to it for
the transfer. The flock boolean is also optional, defaulting to True. If
True, then any files read or written in the upload/download will be locked
using advisory locking.</p>
<dl class="py method">
<dt class="sig sig-object py" id="tftpy.TftpClient.TftpClient.download">
<span class="sig-name descname"><span class="pre">download</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">packethook</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">retries</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#tftpy.TftpClient.TftpClient.download" title="Link to this definition">¶</a></dt>
<dd><p>This method initiates a tftp download from the configured remote
host, requesting the filename passed. It writes the file to output,
which can be a file-like object or a path to a local file. If a
packethook is provided, it must be a function that takes a single
parameter, which will be a copy of each DAT packet received in the
form of a TftpPacketDAT object. The timeout parameter may be used to
override the default SOCK_TIMEOUT setting, which is the amount of time
that the client will wait for a receive packet to arrive.
The retires parameter may be used to override the default DEF_TIMEOUT_RETRIES
settings, which is the amount of retransmission attempts the client will initiate
after encountering a timeout.</p>
<p>Note: If output is a hyphen, stdout is used.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tftpy.TftpClient.TftpClient.upload">
<span class="sig-name descname"><span class="pre">upload</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">packethook</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">retries</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#tftpy.TftpClient.TftpClient.upload" title="Link to this definition">¶</a></dt>
<dd><p>This method initiates a tftp upload to the configured remote host,
uploading the filename passed. It reads the file from input, which
can be a file-like object or a path to a local file. If a packethook
is provided, it must be a function that takes a single parameter,
which will be a copy of each DAT packet sent in the form of a
TftpPacketDAT object. The timeout parameter may be used to override
the default SOCK_TIMEOUT setting, which is the amount of time that
the client will wait for a DAT packet to be ACKd by the server.
The retires parameter may be used to override the default DEF_TIMEOUT_RETRIES
settings, which is the amount of retransmission attempts the client will initiate
after encountering a timeout.</p>
<p>Note: If input is a hyphen, stdin is used.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-tftpy.TftpServer">
<span id="the-tftpserver-module"></span><h3>The <cite>TftpServer</cite> Module<a class="headerlink" href="#module-tftpy.TftpServer" title="Link to this heading">¶</a></h3>
<p>This module implements the TFTP Server functionality. Instantiate an
instance of the server, and then run the listen() method to listen for client
requests. Logging is performed via a standard logging object set in
TftpShared.</p>
<dl class="py class">
<dt class="sig sig-object py" id="tftpy.TftpServer.TftpServer">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">tftpy.TftpServer.</span></span><span class="sig-name descname"><span class="pre">TftpServer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tftproot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'/tftpboot'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dyn_file_func</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">upload_open</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flock</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#tftpy.TftpServer.TftpServer" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#tftpy.TftpPacketTypes.TftpSession" title="tftpy.TftpPacketTypes.TftpSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">TftpSession</span></code></a></p>
<p>This class implements a tftp server object. Run the listen() method to
listen for client requests.</p>
<p>tftproot is the path to the tftproot directory to serve files from and/or
write them to.</p>
<p>dyn_file_func is a callable that takes a requested download
path that is not present on the file system and must return either a
file-like object to read from or None if the path should appear as not
found. This permits the serving of dynamic content.</p>
<p>upload_open is a callable that is triggered on every upload with the
requested destination path and server context. It must either return a
file-like object ready for writing or None if the path is invalid.</p>
<p>flock is a boolean to tell the server whether to use advisory locking
on any real files being read or written in the upload/download.</p>
<dl class="py method">
<dt class="sig sig-object py" id="tftpy.TftpServer.TftpServer.listen">
<span class="sig-name descname"><span class="pre">listen</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">listenip</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">listenport</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">69</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">retries</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#tftpy.TftpServer.TftpServer.listen" title="Link to this definition">¶</a></dt>
<dd><p>Start a server listening on the supplied interface and port. This
defaults to INADDR_ANY (all interfaces) and UDP port 69. You can also
supply a different socket timeout value, if desired.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tftpy.TftpServer.TftpServer.stop">
<span class="sig-name descname"><span class="pre">stop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">now</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#tftpy.TftpServer.TftpServer.stop" title="Link to this definition">¶</a></dt>
<dd><p>Stop the server gracefully. Do not take any new transfers,
but complete the existing ones. If force is True, drop everything
and stop. Note, immediately will not interrupt the select loop, it
will happen when the server returns on ready data, or a timeout.
ie. SOCK_TIMEOUT</p>
</dd></dl>

</dd></dl>

</section>
</section>
<section id="back-end-modules">
<h2>Back-end Modules<a class="headerlink" href="#back-end-modules" title="Link to this heading">¶</a></h2>
<section id="module-tftpy.TftpPacketFactory">
<span id="the-tftppacketfactory-module"></span><h3>The <cite>TftpPacketFactory</cite> Module<a class="headerlink" href="#module-tftpy.TftpPacketFactory" title="Link to this heading">¶</a></h3>
<p>This module implements the TftpPacketFactory class, which can take a binary
buffer, and return the appropriate TftpPacket object to represent it, via the
parse() method.</p>
<dl class="py class">
<dt class="sig sig-object py" id="tftpy.TftpPacketFactory.TftpPacketFactory">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">tftpy.TftpPacketFactory.</span></span><span class="sig-name descname"><span class="pre">TftpPacketFactory</span></span><a class="headerlink" href="#tftpy.TftpPacketFactory.TftpPacketFactory" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class generates TftpPacket objects. It is responsible for parsing
raw buffers off of the wire and returning objects representing them, via
the parse() method.</p>
<dl class="py method">
<dt class="sig sig-object py" id="tftpy.TftpPacketFactory.TftpPacketFactory.parse">
<span class="sig-name descname"><span class="pre">parse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">buffer</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#tftpy.TftpPacketFactory.TftpPacketFactory.parse" title="Link to this definition">¶</a></dt>
<dd><p>This method is used to parse an existing datagram into its
corresponding TftpPacket object. The buffer is the raw bytes off of
the network.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-tftpy.TftpPacketTypes">
<span id="the-tftppackettypes-module"></span><h3>The <cite>TftpPacketTypes</cite> Module<a class="headerlink" href="#module-tftpy.TftpPacketTypes" title="Link to this heading">¶</a></h3>
<p>This module implements the packet types of TFTP itself, and the
corresponding encode and decode methods for them.</p>
<dl class="py class">
<dt class="sig sig-object py" id="tftpy.TftpPacketTypes.TftpPacket">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">tftpy.TftpPacketTypes.</span></span><span class="sig-name descname"><span class="pre">TftpPacket</span></span><a class="headerlink" href="#tftpy.TftpPacketTypes.TftpPacket" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class is the parent class of all tftp packet classes. It is an
abstract class, providing an interface, and should not be instantiated
directly.</p>
<dl class="py method">
<dt class="sig sig-object py" id="tftpy.TftpPacketTypes.TftpPacket.decode">
<span class="sig-name descname"><span class="pre">decode</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#tftpy.TftpPacketTypes.TftpPacket.decode" title="Link to this definition">¶</a></dt>
<dd><p>The decode method of a TftpPacket takes a buffer off of the wire in
network-byte order, and decodes it, populating internal properties as
appropriate. This can only be done once the first 2-byte opcode has
already been decoded, but the data section does include the entire
datagram.</p>
<p>This is an abstract method.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tftpy.TftpPacketTypes.TftpPacket.encode">
<span class="sig-name descname"><span class="pre">encode</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#tftpy.TftpPacketTypes.TftpPacket.encode" title="Link to this definition">¶</a></dt>
<dd><p>The encode method of a TftpPacket takes keyword arguments specific
to the type of packet, and packs an appropriate buffer in network-byte
order suitable for sending over the wire.</p>
<p>This is an abstract method.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="tftpy.TftpPacketTypes.TftpPacketACK">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">tftpy.TftpPacketTypes.</span></span><span class="sig-name descname"><span class="pre">TftpPacketACK</span></span><a class="headerlink" href="#tftpy.TftpPacketTypes.TftpPacketACK" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#tftpy.TftpPacketTypes.TftpPacket" title="tftpy.TftpPacketTypes.TftpPacket"><code class="xref py py-class docutils literal notranslate"><span class="pre">TftpPacket</span></code></a></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>        <span class="mi">2</span> <span class="nb">bytes</span>    <span class="mi">2</span> <span class="nb">bytes</span>
        <span class="o">-------------------</span>
<span class="n">ACK</span>   <span class="o">|</span> <span class="mi">04</span>    <span class="o">|</span>   <span class="n">Block</span> <span class="c1">#  |</span>
        <span class="o">--------------------</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="tftpy.TftpPacketTypes.TftpPacketACK.decode">
<span class="sig-name descname"><span class="pre">decode</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#tftpy.TftpPacketTypes.TftpPacketACK.decode" title="Link to this definition">¶</a></dt>
<dd><p>The decode method of a TftpPacket takes a buffer off of the wire in
network-byte order, and decodes it, populating internal properties as
appropriate. This can only be done once the first 2-byte opcode has
already been decoded, but the data section does include the entire
datagram.</p>
<p>This is an abstract method.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tftpy.TftpPacketTypes.TftpPacketACK.encode">
<span class="sig-name descname"><span class="pre">encode</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#tftpy.TftpPacketTypes.TftpPacketACK.encode" title="Link to this definition">¶</a></dt>
<dd><p>The encode method of a TftpPacket takes keyword arguments specific
to the type of packet, and packs an appropriate buffer in network-byte
order suitable for sending over the wire.</p>
<p>This is an abstract method.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="tftpy.TftpPacketTypes.TftpPacketDAT">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">tftpy.TftpPacketTypes.</span></span><span class="sig-name descname"><span class="pre">TftpPacketDAT</span></span><a class="headerlink" href="#tftpy.TftpPacketTypes.TftpPacketDAT" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#tftpy.TftpPacketTypes.TftpPacket" title="tftpy.TftpPacketTypes.TftpPacket"><code class="xref py py-class docutils literal notranslate"><span class="pre">TftpPacket</span></code></a></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>        <span class="mi">2</span> <span class="nb">bytes</span>    <span class="mi">2</span> <span class="nb">bytes</span>       <span class="n">n</span> <span class="nb">bytes</span>
        <span class="o">---------------------------------</span>
<span class="n">DATA</span>  <span class="o">|</span> <span class="mi">03</span>    <span class="o">|</span>   <span class="n">Block</span> <span class="c1">#  |    Data    |</span>
        <span class="o">---------------------------------</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="tftpy.TftpPacketTypes.TftpPacketDAT.decode">
<span class="sig-name descname"><span class="pre">decode</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#tftpy.TftpPacketTypes.TftpPacketDAT.decode" title="Link to this definition">¶</a></dt>
<dd><p>Decode self.buffer into instance variables. It returns self for
easy method chaining.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tftpy.TftpPacketTypes.TftpPacketDAT.encode">
<span class="sig-name descname"><span class="pre">encode</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#tftpy.TftpPacketTypes.TftpPacketDAT.encode" title="Link to this definition">¶</a></dt>
<dd><p>Encode the DAT packet. This method populates self.buffer, and
returns self for easy method chaining.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="tftpy.TftpPacketTypes.TftpPacketERR">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">tftpy.TftpPacketTypes.</span></span><span class="sig-name descname"><span class="pre">TftpPacketERR</span></span><a class="headerlink" href="#tftpy.TftpPacketTypes.TftpPacketERR" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#tftpy.TftpPacketTypes.TftpPacket" title="tftpy.TftpPacketTypes.TftpPacket"><code class="xref py py-class docutils literal notranslate"><span class="pre">TftpPacket</span></code></a></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>        <span class="mi">2</span> <span class="nb">bytes</span>  <span class="mi">2</span> <span class="nb">bytes</span>        <span class="n">string</span>    <span class="mi">1</span> <span class="n">byte</span>
        <span class="o">----------------------------------------</span>
<span class="n">ERROR</span> <span class="o">|</span> <span class="mi">05</span>    <span class="o">|</span>  <span class="n">ErrorCode</span> <span class="o">|</span>   <span class="n">ErrMsg</span>   <span class="o">|</span>   <span class="mi">0</span>  <span class="o">|</span>
        <span class="o">----------------------------------------</span>

<span class="n">Error</span> <span class="n">Codes</span>

<span class="n">Value</span>     <span class="n">Meaning</span>

<span class="mi">0</span>         <span class="n">Not</span> <span class="n">defined</span><span class="p">,</span> <span class="n">see</span> <span class="n">error</span> <span class="n">message</span> <span class="p">(</span><span class="k">if</span> <span class="nb">any</span><span class="p">)</span><span class="o">.</span>
<span class="mi">1</span>         <span class="n">File</span> <span class="ow">not</span> <span class="n">found</span><span class="o">.</span>
<span class="mi">2</span>         <span class="n">Access</span> <span class="n">violation</span><span class="o">.</span>
<span class="mi">3</span>         <span class="n">Disk</span> <span class="n">full</span> <span class="ow">or</span> <span class="n">allocation</span> <span class="n">exceeded</span><span class="o">.</span>
<span class="mi">4</span>         <span class="n">Illegal</span> <span class="n">TFTP</span> <span class="n">operation</span><span class="o">.</span>
<span class="mi">5</span>         <span class="n">Unknown</span> <span class="n">transfer</span> <span class="n">ID</span><span class="o">.</span>
<span class="mi">6</span>         <span class="n">File</span> <span class="n">already</span> <span class="n">exists</span><span class="o">.</span>
<span class="mi">7</span>         <span class="n">No</span> <span class="n">such</span> <span class="n">user</span><span class="o">.</span>
<span class="mi">8</span>         <span class="n">Failed</span> <span class="n">to</span> <span class="n">negotiate</span> <span class="n">options</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="tftpy.TftpPacketTypes.TftpPacketERR.decode">
<span class="sig-name descname"><span class="pre">decode</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#tftpy.TftpPacketTypes.TftpPacketERR.decode" title="Link to this definition">¶</a></dt>
<dd><p>Decode self.buffer, populating instance variables and return self.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tftpy.TftpPacketTypes.TftpPacketERR.encode">
<span class="sig-name descname"><span class="pre">encode</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#tftpy.TftpPacketTypes.TftpPacketERR.encode" title="Link to this definition">¶</a></dt>
<dd><p>Encode the DAT packet based on instance variables, populating
self.buffer, returning self.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="tftpy.TftpPacketTypes.TftpPacketInitial">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">tftpy.TftpPacketTypes.</span></span><span class="sig-name descname"><span class="pre">TftpPacketInitial</span></span><a class="headerlink" href="#tftpy.TftpPacketTypes.TftpPacketInitial" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#tftpy.TftpPacketTypes.TftpPacket" title="tftpy.TftpPacketTypes.TftpPacket"><code class="xref py py-class docutils literal notranslate"><span class="pre">TftpPacket</span></code></a>, <a class="reference internal" href="#tftpy.TftpPacketTypes.TftpPacketWithOptions" title="tftpy.TftpPacketTypes.TftpPacketWithOptions"><code class="xref py py-class docutils literal notranslate"><span class="pre">TftpPacketWithOptions</span></code></a></p>
<p>This class is a common parent class for the RRQ and WRQ packets, as
they share quite a bit of code.</p>
<dl class="py method">
<dt class="sig sig-object py" id="tftpy.TftpPacketTypes.TftpPacketInitial.decode">
<span class="sig-name descname"><span class="pre">decode</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#tftpy.TftpPacketTypes.TftpPacketInitial.decode" title="Link to this definition">¶</a></dt>
<dd><p>The decode method of a TftpPacket takes a buffer off of the wire in
network-byte order, and decodes it, populating internal properties as
appropriate. This can only be done once the first 2-byte opcode has
already been decoded, but the data section does include the entire
datagram.</p>
<p>This is an abstract method.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tftpy.TftpPacketTypes.TftpPacketInitial.encode">
<span class="sig-name descname"><span class="pre">encode</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#tftpy.TftpPacketTypes.TftpPacketInitial.encode" title="Link to this definition">¶</a></dt>
<dd><p>Encode the packet’s buffer from the instance variables.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="tftpy.TftpPacketTypes.TftpPacketOACK">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">tftpy.TftpPacketTypes.</span></span><span class="sig-name descname"><span class="pre">TftpPacketOACK</span></span><a class="headerlink" href="#tftpy.TftpPacketTypes.TftpPacketOACK" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#tftpy.TftpPacketTypes.TftpPacket" title="tftpy.TftpPacketTypes.TftpPacket"><code class="xref py py-class docutils literal notranslate"><span class="pre">TftpPacket</span></code></a>, <a class="reference internal" href="#tftpy.TftpPacketTypes.TftpPacketWithOptions" title="tftpy.TftpPacketTypes.TftpPacketWithOptions"><code class="xref py py-class docutils literal notranslate"><span class="pre">TftpPacketWithOptions</span></code></a></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+-------+---~~---+---+---~~---+---+---~~---+---+---~~---+---+</span>
<span class="o">|</span>  <span class="n">opc</span>  <span class="o">|</span>  <span class="n">opt1</span>  <span class="o">|</span> <span class="mi">0</span> <span class="o">|</span> <span class="n">value1</span> <span class="o">|</span> <span class="mi">0</span> <span class="o">|</span>  <span class="n">optN</span>  <span class="o">|</span> <span class="mi">0</span> <span class="o">|</span> <span class="n">valueN</span> <span class="o">|</span> <span class="mi">0</span> <span class="o">|</span>
<span class="o">+-------+---~~---+---+---~~---+---+---~~---+---+---~~---+---+</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="tftpy.TftpPacketTypes.TftpPacketOACK.decode">
<span class="sig-name descname"><span class="pre">decode</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#tftpy.TftpPacketTypes.TftpPacketOACK.decode" title="Link to this definition">¶</a></dt>
<dd><p>The decode method of a TftpPacket takes a buffer off of the wire in
network-byte order, and decodes it, populating internal properties as
appropriate. This can only be done once the first 2-byte opcode has
already been decoded, but the data section does include the entire
datagram.</p>
<p>This is an abstract method.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tftpy.TftpPacketTypes.TftpPacketOACK.encode">
<span class="sig-name descname"><span class="pre">encode</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#tftpy.TftpPacketTypes.TftpPacketOACK.encode" title="Link to this definition">¶</a></dt>
<dd><p>The encode method of a TftpPacket takes keyword arguments specific
to the type of packet, and packs an appropriate buffer in network-byte
order suitable for sending over the wire.</p>
<p>This is an abstract method.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tftpy.TftpPacketTypes.TftpPacketOACK.match_options">
<span class="sig-name descname"><span class="pre">match_options</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">options</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#tftpy.TftpPacketTypes.TftpPacketOACK.match_options" title="Link to this definition">¶</a></dt>
<dd><p>This method takes a set of options, and tries to match them with
its own. It can accept some changes in those options from the server as
part of a negotiation. Changed or unchanged, it will return a dict of
the options so that the session can update itself to the negotiated
options.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="tftpy.TftpPacketTypes.TftpPacketRRQ">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">tftpy.TftpPacketTypes.</span></span><span class="sig-name descname"><span class="pre">TftpPacketRRQ</span></span><a class="headerlink" href="#tftpy.TftpPacketTypes.TftpPacketRRQ" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#tftpy.TftpPacketTypes.TftpPacketInitial" title="tftpy.TftpPacketTypes.TftpPacketInitial"><code class="xref py py-class docutils literal notranslate"><span class="pre">TftpPacketInitial</span></code></a></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>        <span class="mi">2</span> <span class="nb">bytes</span>    <span class="n">string</span>   <span class="mi">1</span> <span class="n">byte</span>     <span class="n">string</span>   <span class="mi">1</span> <span class="n">byte</span>
        <span class="o">-----------------------------------------------</span>
<span class="n">RRQ</span><span class="o">/</span>  <span class="o">|</span> <span class="mi">01</span><span class="o">/</span><span class="mi">02</span> <span class="o">|</span>  <span class="n">Filename</span>  <span class="o">|</span>   <span class="mi">0</span>  <span class="o">|</span>    <span class="n">Mode</span>    <span class="o">|</span>   <span class="mi">0</span>  <span class="o">|</span>
<span class="n">WRQ</span>     <span class="o">-----------------------------------------------</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="tftpy.TftpPacketTypes.TftpPacketWRQ">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">tftpy.TftpPacketTypes.</span></span><span class="sig-name descname"><span class="pre">TftpPacketWRQ</span></span><a class="headerlink" href="#tftpy.TftpPacketTypes.TftpPacketWRQ" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#tftpy.TftpPacketTypes.TftpPacketInitial" title="tftpy.TftpPacketTypes.TftpPacketInitial"><code class="xref py py-class docutils literal notranslate"><span class="pre">TftpPacketInitial</span></code></a></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>        <span class="mi">2</span> <span class="nb">bytes</span>    <span class="n">string</span>   <span class="mi">1</span> <span class="n">byte</span>     <span class="n">string</span>   <span class="mi">1</span> <span class="n">byte</span>
        <span class="o">-----------------------------------------------</span>
<span class="n">RRQ</span><span class="o">/</span>  <span class="o">|</span> <span class="mi">01</span><span class="o">/</span><span class="mi">02</span> <span class="o">|</span>  <span class="n">Filename</span>  <span class="o">|</span>   <span class="mi">0</span>  <span class="o">|</span>    <span class="n">Mode</span>    <span class="o">|</span>   <span class="mi">0</span>  <span class="o">|</span>
<span class="n">WRQ</span>     <span class="o">-----------------------------------------------</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="tftpy.TftpPacketTypes.TftpPacketWithOptions">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">tftpy.TftpPacketTypes.</span></span><span class="sig-name descname"><span class="pre">TftpPacketWithOptions</span></span><a class="headerlink" href="#tftpy.TftpPacketTypes.TftpPacketWithOptions" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class exists to permit some TftpPacket subclasses to share code
regarding options handling. It does not inherit from TftpPacket, as the
goal is just to share code here, and not cause diamond inheritance.</p>
<dl class="py method">
<dt class="sig sig-object py" id="tftpy.TftpPacketTypes.TftpPacketWithOptions.decode_options">
<span class="sig-name descname"><span class="pre">decode_options</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">buffer</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#tftpy.TftpPacketTypes.TftpPacketWithOptions.decode_options" title="Link to this definition">¶</a></dt>
<dd><p>This method decodes the section of the buffer that contains an
unknown number of options. It returns a dictionary of option names and
values.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="tftpy.TftpPacketTypes.TftpSession">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">tftpy.TftpPacketTypes.</span></span><span class="sig-name descname"><span class="pre">TftpSession</span></span><a class="headerlink" href="#tftpy.TftpPacketTypes.TftpSession" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class is the base class for the tftp client and server. Any shared
code should be in this class.</p>
</dd></dl>

</section>
<section id="module-tftpy.TftpShared">
<span id="the-tftpshared-module"></span><h3>The <cite>TftpShared</cite> Module<a class="headerlink" href="#module-tftpy.TftpShared" title="Link to this heading">¶</a></h3>
<p>This module holds all objects shared by all other modules in tftpy.</p>
<dl class="py class">
<dt class="sig sig-object py" id="tftpy.TftpShared.TftpErrors">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">tftpy.TftpShared.</span></span><span class="sig-name descname"><span class="pre">TftpErrors</span></span><a class="headerlink" href="#tftpy.TftpShared.TftpErrors" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class is a convenience for defining the common tftp error codes,
and making them more readable in the code.</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="tftpy.TftpShared.TftpException">
<em class="property"><span class="k"><span class="pre">exception</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">tftpy.TftpShared.</span></span><span class="sig-name descname"><span class="pre">TftpException</span></span><a class="headerlink" href="#tftpy.TftpShared.TftpException" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<p>This class is the parent class of all exceptions regarding the handling
of the TFTP protocol.</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="tftpy.TftpShared.TftpFileNotFoundError">
<em class="property"><span class="k"><span class="pre">exception</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">tftpy.TftpShared.</span></span><span class="sig-name descname"><span class="pre">TftpFileNotFoundError</span></span><a class="headerlink" href="#tftpy.TftpShared.TftpFileNotFoundError" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#tftpy.TftpShared.TftpException" title="tftpy.TftpShared.TftpException"><code class="xref py py-class docutils literal notranslate"><span class="pre">TftpException</span></code></a></p>
<p>This class represents an error condition where we received a file
not found error.</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="tftpy.TftpShared.TftpTimeout">
<em class="property"><span class="k"><span class="pre">exception</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">tftpy.TftpShared.</span></span><span class="sig-name descname"><span class="pre">TftpTimeout</span></span><a class="headerlink" href="#tftpy.TftpShared.TftpTimeout" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#tftpy.TftpShared.TftpException" title="tftpy.TftpShared.TftpException"><code class="xref py py-class docutils literal notranslate"><span class="pre">TftpException</span></code></a></p>
<p>This class represents a timeout error waiting for a response from the
other end.</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="tftpy.TftpShared.TftpTimeoutExpectACK">
<em class="property"><span class="k"><span class="pre">exception</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">tftpy.TftpShared.</span></span><span class="sig-name descname"><span class="pre">TftpTimeoutExpectACK</span></span><a class="headerlink" href="#tftpy.TftpShared.TftpTimeoutExpectACK" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#tftpy.TftpShared.TftpTimeout" title="tftpy.TftpShared.TftpTimeout"><code class="xref py py-class docutils literal notranslate"><span class="pre">TftpTimeout</span></code></a></p>
<p>This class represents a timeout error when waiting for ACK of the current block
and receiving duplicate ACK for previous block from the other end.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="tftpy.TftpShared.lockfile">
<span class="sig-prename descclassname"><span class="pre">tftpy.TftpShared.</span></span><span class="sig-name descname"><span class="pre">lockfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fobj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shared</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blocking</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unlock</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#tftpy.TftpShared.lockfile" title="Link to this definition">¶</a></dt>
<dd><p>Take appropriate action to advisory lock the file with the descriptor provided,
depending on the platform. fobj must be a file object.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="tftpy.TftpShared.tftpassert">
<span class="sig-prename descclassname"><span class="pre">tftpy.TftpShared.</span></span><span class="sig-name descname"><span class="pre">tftpassert</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">condition</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">msg</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#tftpy.TftpShared.tftpassert" title="Link to this definition">¶</a></dt>
<dd><p>This function is a simple utility that will check the condition
passed for a false state. If it finds one, it throws a TftpException
with the message passed. This just makes the code throughout cleaner
by refactoring.</p>
</dd></dl>

</section>
<section id="module-tftpy.TftpContexts">
<span id="the-tftpcontexts-module"></span><h3>The <cite>TftpContexts</cite> Module<a class="headerlink" href="#module-tftpy.TftpContexts" title="Link to this heading">¶</a></h3>
<p>This module implements all contexts for state handling during uploads and
downloads, the main interface to which being the TftpContext base class.</p>
<p>The concept is simple. Each context object represents a single upload or
download, and the state object in the context object represents the current
state of that transfer. The state object has a handle() method that expects
the next packet in the transfer, and returns a state object until the transfer
is complete, at which point it returns None. That is, unless there is a fatal
error, in which case a TftpException is returned instead.</p>
<dl class="py class">
<dt class="sig sig-object py" id="tftpy.TftpContexts.TftpContext">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">tftpy.TftpContexts.</span></span><span class="sig-name descname"><span class="pre">TftpContext</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">host</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">port</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">retries</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">localip</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flock</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#tftpy.TftpContexts.TftpContext" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>The base class of the contexts.</p>
<dl class="py method">
<dt class="sig sig-object py" id="tftpy.TftpContexts.TftpContext.checkTimeout">
<span class="sig-name descname"><span class="pre">checkTimeout</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">now</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#tftpy.TftpContexts.TftpContext.checkTimeout" title="Link to this definition">¶</a></dt>
<dd><p>Compare current time with last_update time, and raise an exception
if we’re over the timeout time.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tftpy.TftpContexts.TftpContext.cycle">
<span class="sig-name descname"><span class="pre">cycle</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#tftpy.TftpContexts.TftpContext.cycle" title="Link to this definition">¶</a></dt>
<dd><p>Here we wait for a response from the server after sending it
something, and dispatch appropriate action to that response.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tftpy.TftpContexts.TftpContext.end">
<span class="sig-name descname"><span class="pre">end</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">close_fileobj</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#tftpy.TftpContexts.TftpContext.end" title="Link to this definition">¶</a></dt>
<dd><p>Perform session cleanup, since the end method should always be
called explicitly by the calling code, this works better than the
destructor.
Set close_fileobj to False so fileobj can be returned open.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tftpy.TftpContexts.TftpContext.getBlocksize">
<span class="sig-name descname"><span class="pre">getBlocksize</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#tftpy.TftpContexts.TftpContext.getBlocksize" title="Link to this definition">¶</a></dt>
<dd><p>Fetch the current blocksize for this session.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tftpy.TftpContexts.TftpContext.gethost">
<span class="sig-name descname"><span class="pre">gethost</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#tftpy.TftpContexts.TftpContext.gethost" title="Link to this definition">¶</a></dt>
<dd><p>Simple getter method for use in a property.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="tftpy.TftpContexts.TftpContext.host">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">host</span></span><a class="headerlink" href="#tftpy.TftpContexts.TftpContext.host" title="Link to this definition">¶</a></dt>
<dd><p>Simple getter method for use in a property.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tftpy.TftpContexts.TftpContext.sethost">
<span class="sig-name descname"><span class="pre">sethost</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">host</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#tftpy.TftpContexts.TftpContext.sethost" title="Link to this definition">¶</a></dt>
<dd><p>Setter method that also sets the address property as a result
of the host that is set.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="tftpy.TftpContexts.TftpContextClientDownload">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">tftpy.TftpContexts.</span></span><span class="sig-name descname"><span class="pre">TftpContextClientDownload</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">host</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">port</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">packethook</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">retries</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">localip</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flock</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#tftpy.TftpContexts.TftpContextClientDownload" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#tftpy.TftpContexts.TftpContext" title="tftpy.TftpContexts.TftpContext"><code class="xref py py-class docutils literal notranslate"><span class="pre">TftpContext</span></code></a></p>
<p>The download context for the client during a download.
Note: If output is a hyphen, then the output will be sent to stdout.</p>
<dl class="py method">
<dt class="sig sig-object py" id="tftpy.TftpContexts.TftpContextClientDownload.end">
<span class="sig-name descname"><span class="pre">end</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#tftpy.TftpContexts.TftpContextClientDownload.end" title="Link to this definition">¶</a></dt>
<dd><p>Finish up the context.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tftpy.TftpContexts.TftpContextClientDownload.start">
<span class="sig-name descname"><span class="pre">start</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#tftpy.TftpContexts.TftpContextClientDownload.start" title="Link to this definition">¶</a></dt>
<dd><p>Initiate the download.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="tftpy.TftpContexts.TftpContextClientUpload">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">tftpy.TftpContexts.</span></span><span class="sig-name descname"><span class="pre">TftpContextClientUpload</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">host</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">port</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">packethook</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">retries</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">localip</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flock</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#tftpy.TftpContexts.TftpContextClientUpload" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#tftpy.TftpContexts.TftpContext" title="tftpy.TftpContexts.TftpContext"><code class="xref py py-class docutils literal notranslate"><span class="pre">TftpContext</span></code></a></p>
<p>The upload context for the client during an upload.
Note: If input is a hyphen, then we will use stdin.</p>
<dl class="py method">
<dt class="sig sig-object py" id="tftpy.TftpContexts.TftpContextClientUpload.end">
<span class="sig-name descname"><span class="pre">end</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#tftpy.TftpContexts.TftpContextClientUpload.end" title="Link to this definition">¶</a></dt>
<dd><p>Finish up the context.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="tftpy.TftpContexts.TftpContextServer">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">tftpy.TftpContexts.</span></span><span class="sig-name descname"><span class="pre">TftpContextServer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">host</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">port</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">root</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dyn_file_func</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">upload_open</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">retries</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flock</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#tftpy.TftpContexts.TftpContextServer" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#tftpy.TftpContexts.TftpContext" title="tftpy.TftpContexts.TftpContext"><code class="xref py py-class docutils literal notranslate"><span class="pre">TftpContext</span></code></a></p>
<p>The context for the server.</p>
<dl class="py method">
<dt class="sig sig-object py" id="tftpy.TftpContexts.TftpContextServer.end">
<span class="sig-name descname"><span class="pre">end</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#tftpy.TftpContexts.TftpContextServer.end" title="Link to this definition">¶</a></dt>
<dd><p>Finish up the context.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tftpy.TftpContexts.TftpContextServer.start">
<span class="sig-name descname"><span class="pre">start</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">buffer</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#tftpy.TftpContexts.TftpContextServer.start" title="Link to this definition">¶</a></dt>
<dd><p>Start the state cycle. Note that the server context receives an
initial packet in its start method. Also note that the server does not
loop on cycle(), as it expects the TftpServer object to manage
that.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="tftpy.TftpContexts.TftpMetrics">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">tftpy.TftpContexts.</span></span><span class="sig-name descname"><span class="pre">TftpMetrics</span></span><a class="headerlink" href="#tftpy.TftpContexts.TftpMetrics" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A class representing metrics of the transfer.</p>
<dl class="py method">
<dt class="sig sig-object py" id="tftpy.TftpContexts.TftpMetrics.add_dup">
<span class="sig-name descname"><span class="pre">add_dup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pkt</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#tftpy.TftpContexts.TftpMetrics.add_dup" title="Link to this definition">¶</a></dt>
<dd><p>This method adds a dup for a packet to the metrics.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-tftpy.TftpStates">
<span id="the-tftpstates-module"></span><h3>The <cite>TftpStates</cite> Module<a class="headerlink" href="#module-tftpy.TftpStates" title="Link to this heading">¶</a></h3>
<p>This module implements all state handling during uploads and downloads, the
main interface to which being the TftpState base class.</p>
<p>The concept is simple. Each context object represents a single upload or
download, and the state object in the context object represents the current
state of that transfer. The state object has a handle() method that expects
the next packet in the transfer, and returns a state object until the transfer
is complete, at which point it returns None. That is, unless there is a fatal
error, in which case a TftpException is returned instead.</p>
<dl class="py class">
<dt class="sig sig-object py" id="tftpy.TftpStates.TftpServerState">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">tftpy.TftpStates.</span></span><span class="sig-name descname"><span class="pre">TftpServerState</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">context</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#tftpy.TftpStates.TftpServerState" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#tftpy.TftpStates.TftpState" title="tftpy.TftpStates.TftpState"><code class="xref py py-class docutils literal notranslate"><span class="pre">TftpState</span></code></a></p>
<p>The base class for server states.</p>
<dl class="py method">
<dt class="sig sig-object py" id="tftpy.TftpStates.TftpServerState.serverInitial">
<span class="sig-name descname"><span class="pre">serverInitial</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pkt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">raddress</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rport</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#tftpy.TftpStates.TftpServerState.serverInitial" title="Link to this definition">¶</a></dt>
<dd><p>This method performs initial setup for a server context transfer,
put here to refactor code out of the TftpStateServerRecvRRQ and
TftpStateServerRecvWRQ classes, since their initial setup is
identical. The method returns a boolean, sendoack, to indicate whether
it is required to send an OACK to the client.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="tftpy.TftpStates.TftpState">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">tftpy.TftpStates.</span></span><span class="sig-name descname"><span class="pre">TftpState</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">context</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#tftpy.TftpStates.TftpState" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>The base class for the states.</p>
<dl class="py method">
<dt class="sig sig-object py" id="tftpy.TftpStates.TftpState.handle">
<span class="sig-name descname"><span class="pre">handle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pkt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">raddress</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rport</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#tftpy.TftpStates.TftpState.handle" title="Link to this definition">¶</a></dt>
<dd><p>An abstract method for handling a packet. It is expected to return
a TftpState object, either itself or a new state.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tftpy.TftpStates.TftpState.handleDat">
<span class="sig-name descname"><span class="pre">handleDat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pkt</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#tftpy.TftpStates.TftpState.handleDat" title="Link to this definition">¶</a></dt>
<dd><p>This method handles a DAT packet during a client download, or a
server upload.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tftpy.TftpStates.TftpState.handleOACK">
<span class="sig-name descname"><span class="pre">handleOACK</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pkt</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#tftpy.TftpStates.TftpState.handleOACK" title="Link to this definition">¶</a></dt>
<dd><p>This method handles an OACK from the server, syncing any accepted
options.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tftpy.TftpStates.TftpState.resendLast">
<span class="sig-name descname"><span class="pre">resendLast</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#tftpy.TftpStates.TftpState.resendLast" title="Link to this definition">¶</a></dt>
<dd><p>Resend the last sent packet due to a timeout.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tftpy.TftpStates.TftpState.returnSupportedOptions">
<span class="sig-name descname"><span class="pre">returnSupportedOptions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">options</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#tftpy.TftpStates.TftpState.returnSupportedOptions" title="Link to this definition">¶</a></dt>
<dd><p>This method takes a requested options list from a client, and
returns the ones that are supported.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tftpy.TftpStates.TftpState.sendACK">
<span class="sig-name descname"><span class="pre">sendACK</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">blocknumber</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#tftpy.TftpStates.TftpState.sendACK" title="Link to this definition">¶</a></dt>
<dd><p>This method sends an ack packet to the block number specified. If
none is specified, it defaults to the next_block property in the
parent context.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tftpy.TftpStates.TftpState.sendDAT">
<span class="sig-name descname"><span class="pre">sendDAT</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#tftpy.TftpStates.TftpState.sendDAT" title="Link to this definition">¶</a></dt>
<dd><p>This method sends the next DAT packet based on the data in the
context. It returns a boolean indicating whether the transfer is
finished.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tftpy.TftpStates.TftpState.sendError">
<span class="sig-name descname"><span class="pre">sendError</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">errorcode</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#tftpy.TftpStates.TftpState.sendError" title="Link to this definition">¶</a></dt>
<dd><p>This method uses the socket passed, and uses the errorcode to
compose and send an error packet.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tftpy.TftpStates.TftpState.sendOACK">
<span class="sig-name descname"><span class="pre">sendOACK</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#tftpy.TftpStates.TftpState.sendOACK" title="Link to this definition">¶</a></dt>
<dd><p>This method sends an OACK packet with the options from the current
context.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="tftpy.TftpStates.TftpStateExpectACK">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">tftpy.TftpStates.</span></span><span class="sig-name descname"><span class="pre">TftpStateExpectACK</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">context</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#tftpy.TftpStates.TftpStateExpectACK" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#tftpy.TftpStates.TftpState" title="tftpy.TftpStates.TftpState"><code class="xref py py-class docutils literal notranslate"><span class="pre">TftpState</span></code></a></p>
<p>This class represents the state of the transfer when a DAT was just
sent, and we are waiting for an ACK from the server. This class is the
same one used by the client during the upload, and the server during the
download.</p>
<dl class="py method">
<dt class="sig sig-object py" id="tftpy.TftpStates.TftpStateExpectACK.handle">
<span class="sig-name descname"><span class="pre">handle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pkt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">raddress</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rport</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#tftpy.TftpStates.TftpStateExpectACK.handle" title="Link to this definition">¶</a></dt>
<dd><p>Handle a packet, hopefully an ACK since we just sent a DAT.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="tftpy.TftpStates.TftpStateExpectDAT">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">tftpy.TftpStates.</span></span><span class="sig-name descname"><span class="pre">TftpStateExpectDAT</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">context</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#tftpy.TftpStates.TftpStateExpectDAT" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#tftpy.TftpStates.TftpState" title="tftpy.TftpStates.TftpState"><code class="xref py py-class docutils literal notranslate"><span class="pre">TftpState</span></code></a></p>
<p>Just sent an ACK packet. Waiting for DAT.</p>
<dl class="py method">
<dt class="sig sig-object py" id="tftpy.TftpStates.TftpStateExpectDAT.handle">
<span class="sig-name descname"><span class="pre">handle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pkt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">raddress</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rport</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#tftpy.TftpStates.TftpStateExpectDAT.handle" title="Link to this definition">¶</a></dt>
<dd><p>Handle the packet in response to an ACK, which should be a DAT.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="tftpy.TftpStates.TftpStateSentRRQ">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">tftpy.TftpStates.</span></span><span class="sig-name descname"><span class="pre">TftpStateSentRRQ</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">context</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#tftpy.TftpStates.TftpStateSentRRQ" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#tftpy.TftpStates.TftpState" title="tftpy.TftpStates.TftpState"><code class="xref py py-class docutils literal notranslate"><span class="pre">TftpState</span></code></a></p>
<p>Just sent an RRQ packet.</p>
<dl class="py method">
<dt class="sig sig-object py" id="tftpy.TftpStates.TftpStateSentRRQ.handle">
<span class="sig-name descname"><span class="pre">handle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pkt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">raddress</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rport</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#tftpy.TftpStates.TftpStateSentRRQ.handle" title="Link to this definition">¶</a></dt>
<dd><p>Handle the packet in response to an RRQ to the server.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="tftpy.TftpStates.TftpStateSentWRQ">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">tftpy.TftpStates.</span></span><span class="sig-name descname"><span class="pre">TftpStateSentWRQ</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">context</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#tftpy.TftpStates.TftpStateSentWRQ" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#tftpy.TftpStates.TftpState" title="tftpy.TftpStates.TftpState"><code class="xref py py-class docutils literal notranslate"><span class="pre">TftpState</span></code></a></p>
<p>Just sent an WRQ packet for an upload.</p>
<dl class="py method">
<dt class="sig sig-object py" id="tftpy.TftpStates.TftpStateSentWRQ.handle">
<span class="sig-name descname"><span class="pre">handle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pkt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">raddress</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rport</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#tftpy.TftpStates.TftpStateSentWRQ.handle" title="Link to this definition">¶</a></dt>
<dd><p>Handle a packet we just received.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="tftpy.TftpStates.TftpStateServerRecvRRQ">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">tftpy.TftpStates.</span></span><span class="sig-name descname"><span class="pre">TftpStateServerRecvRRQ</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">context</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#tftpy.TftpStates.TftpStateServerRecvRRQ" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#tftpy.TftpStates.TftpServerState" title="tftpy.TftpStates.TftpServerState"><code class="xref py py-class docutils literal notranslate"><span class="pre">TftpServerState</span></code></a></p>
<p>This class represents the state of the TFTP server when it has just
received an RRQ packet.</p>
<dl class="py method">
<dt class="sig sig-object py" id="tftpy.TftpStates.TftpStateServerRecvRRQ.handle">
<span class="sig-name descname"><span class="pre">handle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pkt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">raddress</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rport</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#tftpy.TftpStates.TftpStateServerRecvRRQ.handle" title="Link to this definition">¶</a></dt>
<dd><p>Handle an initial RRQ packet as a server.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="tftpy.TftpStates.TftpStateServerRecvWRQ">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">tftpy.TftpStates.</span></span><span class="sig-name descname"><span class="pre">TftpStateServerRecvWRQ</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">context</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#tftpy.TftpStates.TftpStateServerRecvWRQ" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#tftpy.TftpStates.TftpServerState" title="tftpy.TftpStates.TftpServerState"><code class="xref py py-class docutils literal notranslate"><span class="pre">TftpServerState</span></code></a></p>
<p>This class represents the state of the TFTP server when it has just
received a WRQ packet.</p>
<dl class="py method">
<dt class="sig sig-object py" id="tftpy.TftpStates.TftpStateServerRecvWRQ.handle">
<span class="sig-name descname"><span class="pre">handle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pkt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">raddress</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rport</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#tftpy.TftpStates.TftpStateServerRecvWRQ.handle" title="Link to this definition">¶</a></dt>
<dd><p>Handle an initial WRQ packet as a server.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tftpy.TftpStates.TftpStateServerRecvWRQ.make_subdirs">
<span class="sig-name descname"><span class="pre">make_subdirs</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#tftpy.TftpStates.TftpStateServerRecvWRQ.make_subdirs" title="Link to this definition">¶</a></dt>
<dd><p>The purpose of this method is to, if necessary, create all of the
subdirectories leading up to the file to the written.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="tftpy.TftpStates.TftpStateServerStart">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">tftpy.TftpStates.</span></span><span class="sig-name descname"><span class="pre">TftpStateServerStart</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">context</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#tftpy.TftpStates.TftpStateServerStart" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#tftpy.TftpStates.TftpState" title="tftpy.TftpStates.TftpState"><code class="xref py py-class docutils literal notranslate"><span class="pre">TftpState</span></code></a></p>
<p>The start state for the server. This is a transitory state since at
this point we don’t know if we’re handling an upload or a download. We
will commit to one of them once we interpret the initial packet.</p>
<dl class="py method">
<dt class="sig sig-object py" id="tftpy.TftpStates.TftpStateServerStart.handle">
<span class="sig-name descname"><span class="pre">handle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pkt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">raddress</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rport</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#tftpy.TftpStates.TftpStateServerStart.handle" title="Link to this definition">¶</a></dt>
<dd><p>Handle a packet we just received.</p>
</dd></dl>

</dd></dl>

</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
        </div>
        <div class="sidebar">
          
          <h3>Table of Contents</h3>
          
          <search role="search">
            <h3 style="margin-top: 1.5em;">Search</h3>
            <form class="search" action="search.html" method="get">
                <input type="text" name="q" />
                <input type="submit" value="Go" />
            </form>
          </search>

        </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer-wrapper">
      <div class="footer">
        <div class="left">
          <div role="navigation" aria-label="Related">
            <a href="py-modindex.html" title="Python Module Index"
              >modules</a> |
            <a href="genindex.html" title="General Index"
              >index</a>
          </div>
          <div role="note" aria-label="source link">
              <br/>
              <a href="_sources/index.rst.txt"
                rel="nofollow">Show Source</a>
          </div>
        </div>

        <div class="right">
          
    <div class="footer" role="contentinfo">
    &#169; Copyright 2010, Michael P. Soulier.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.2.3.
    </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

  </body>
</html>